

### Ink/Stitch requirements file.

### - Hash of this file is used by default for cache in the CI pipeline (github actions).
###   - Any change in this file would trigger a rebuild of the cache.
###   - Check logs of the CI pipeline to see if the cache was used.
### - Keep this file up to date with the latest versions of the dependencies with pyproject.toml

### use latest
pyembroidery @ git+https://github.com/inkstitch/pyembroidery

### install before inkex, required because inkex is without restriction and >3.50 cannot be compiled on some OS
pygobject<=3.50 ; sys_platform == 'linux' or sys_platform == 'darwin'

### For linux user it may be tricky to install wxPython from sources
### prebuilt packages: https://wxpython.org/pages/downloads/index.html
# wxpython @ https://extras.wxpython.org/wxPython4/extras/linux/gtk3/ubuntu-22.04/wxpython-4.2.3-cp311-cp311-linux_x86_64.whl
wxPython>=4.1.1

# For macOS and Windows our installer bundles the version specified here
# but some Linux distros package Ink/Stitch as depending on the inkex that's bundled with Inkscape.
# So at least for releases we should use a tagged version here such as EXTENSIONS_AT_INKSCAPE_$version.
inkex @ git+https://gitlab.com/inkscape/extensions.git@EXTENSIONS_AT_INKSCAPE_1.4.1


networkx
shapely>=2.0.0
lxml
platformdirs
numpy<2.3.0
jinja2>2.9
# requests

### tomli is built as tomllib in python 3.11 and higher
tomli; python_version < '3.11'

colormath2
flask>=2.2.0
fonttools
trimesh>=3.15.2
diskcache
# flask-cors
pywinutils ; sys_platform == 'win32'
pywin32 ; sys_platform == 'win32'

### Test dependencies.
### It should be okay to include these here because this list isn't the one used for bundling dependencies.
### Instead Pyinstaller finds what dependencies the project needs based on what inkstitch.py imports
pytest

### Misc dev dependencies
types-wxpython
types-appdirs
types-shapely
types-networkx
types-lxml
types-pywin32; sys_platform == 'win32'
